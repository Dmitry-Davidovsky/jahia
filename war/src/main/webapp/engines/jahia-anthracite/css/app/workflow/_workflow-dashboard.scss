/***********************************************/
/* WORKFLOW DASHBOARD **************************/
/***********************************************/
#workflowComponent {
  .workflow-dashboard-engine {

    @include _button(".button-preview", "ACTIONBAR---SECONDARY", "remove-icons");
    @include _button(".button-incontext-preview", "ACTIONBAR---SECONDARY", "remove-icons");
    @include _button(".button-details", "ACTIONBAR---SECONDARY", "remove-icons");

    .x-tree3-node-text.x-tree3-node-text-widget,
    .x-grid3-row-selected .x-tree3-node-text.x-tree3-node-text-widget {
      color: _color("primary", a) !important;
    }

    .indigo-modal-mask {
      display: none;
    }

    background: _color("secondary", a) !important;

    .x-window-bwrap {
      background: _color("secondary");
    }

    .x-panel-toolbar .x-tool-restore {
      display: none;
    }

    .x-window-header {
      height: 64px !important;
      line-height: 64px;
      margin-top: 5px;

      .x-panel-toolbar > table {
        pointer-events: all;
      }

      .x-window-header-text {
        text-shadow: none;
        border: none;
        padding: 0;
        border-radius: 0;
        background: transparent;
        box-shadow: none;
        margin-bottom: 10px;
        pointer-events: none !important;
      }

      > .x-component:first-child {
        margin-top: 22px;
        margin-right: 16px;
      }

    }

    .x-grid3 {

      .x-grid3-body {
        .x-grid-empty {
          padding: 3px;

          &::before {
            content: _dictionary("empty");
            @include text(13px, _color("primary"), _weight("light"));
          }
        }
      }

      .x-grid3-header {
        display: table-cell;
        background: transparent;
        color: _color("black", d) !important;
        text-transform: uppercase;
        width: calc(100% - 56px) !important;

        .x-grid3-header-inner {
          width: calc(100% - 56px) !important;
        }

        //.x-grid3-td-displayName, .x-grid3-hd-displayName {
        //  width: 35% !important;
        //}
        //
        //.x-grid3-td-locale, .x-grid3-hd-locale {
        //  width: 5% !important;
        //}
        //
        //.x-grid3-td-user, .x-grid3-hd-user {
        //  width: 5% !important;
        //}
        //
        //.x-grid3-td-nodeWrapper, .x-grid3-hd-nodeWrapper {
        //  width: 25% !important;
        //}
        //
        //.x-grid3-td-startDate, .x-grid3-hd-startDate {
        //  width: 5% !important;
        //}
        //
        //.x-grid3-td-endDate, .x-grid3-hd-endDate {
        //  width: 5% !important;
        //}
        //
        //.x-grid3-td-duration, .x-grid3-hd-duration {
        //  width: 5% !important;
        //}
        //
        //.x-grid3-td-operation, .x-grid3-hd-operation {
        //  width: 10% !important;
        //}

        .x-grid3-hh {
          margin: 2px 0 12px;
          width: calc(100% - 56px) !important;

          > table {
            padding: 4px 0;
            width: calc(100% - 56px) !important;
            table-layout: unset !important;

            .x-grid3-hd.x-grid3-cell {
              border-color: transparent !important;

              span,
              span div {
                font-weight: 800;
              }
            }
          }
        }
      }

      td.x-grid3-hd-over .x-grid3-hd-inner,
      td.x-grid3-hd-menu-open .x-grid3-hd-inner {
        background: _color("primary", d) !important;
      }

      .x-grid3-header-inner .x-grid3-hh > table > tbody td div .x-grid3-hd-btn {
        background: url(_icon("arrowDown", "grey")) no-repeat center center !important; /* OPTIMISE URL ::: css/app/workflow/_workflow-dashboard.scss ::: 1 */
        width: 23px;
        background-size: 13px !important;
        opacity: 1.0;
      }

      .x-grid3-scroller.x-grid3-scroller {
        width: calc(100% - 56px) !important;
      }

      .x-grid3-row.x-grid3-row-selected {
        background: inherit !important;
        color: inherit !important;

        .x-grid3-td-displayName {
          padding-right: 0 !important;
        }

      }

      .x-grid3-row {
        color: _color("primary", a) !important;
        box-sizing: border-box;
        margin-bottom: 1px;
        width: 105% !important;
        height: 38px !important;
      }

      .x-grid3-row-table {
        width: 105% !important;
        height: 38px !important;

        .x-grid3-cell .x-grid3-cell-inner label {
          line-height: inherit;
          color: inherit;
        }

        .x-grid3-cell {
          overflow: hidden;
          display: inline-block;
          pointer-events: all;

          table,
          tbody,
          tr {
            display: block;
          }

          td {
            display: inline-block;
            padding: 0 !important;
          }
        }

      }

      @if ($theme == "anthracite-V8") {
        .x-tree3-node-joint[style*='-66px'] {
          // Closed
          background: url(_icon("navNext", "grey")) no-repeat top 1px center !important;
          background-size: 10px !important;
        }

        .x-tree3-node-joint[style*='-34px'] {
          // Opened
          background: url(_icon("arrowDown", "grey")) no-repeat top 1px center !important;
        }
      }

      //.x-grid3-td-displayName {
      //  width: 400px !important;
      //}
      //
      //.x-grid3-td-locale {
      //  width: 80px !important;
      //}
      //
      //.x-grid3-td-user {
      //  width: 140px !important;
      //}
      //
      //.x-grid3-td-nodeWrapper {
      //  width: 400px !important;
      //}
      //
      //.x-grid3-td-startDate {
      //  width: 180px !important;
      //}
      //
      //.x-grid3-td-endDate {
      //  width: 180px !important;
      //}
      //
      //.x-grid3-td-duration {
      //  width: 120px !important;
      //}
      //
      //.x-grid3-td-operation {
      //  width: 200px !important;
      //}
    }

    .x-grid3-hd-row {

      .x-grid3-hd {
        border-left-color: _color("primary", c);
        border-right-color: _color("primary", e);
      }

    }
  }


  .workflow-dashboard-publication-window {
    background: unset !important;
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    padding-top: calc(5%) !important;

    .indigo-modal-mask {
      position: fixed;
      top: 0;
      left: 0;
      width: 100% !important;
      height: 100%;
      z-index: 99;
      background-color: _color("secondary") !important;
      opacity: 0.6;
    }

    .x-window-tl {
      width: 80% !important;
      background: unset !important;
      padding: 0 !important;
      height: 100px !important;

      .x-window-tr {
        height: 100px !important;
      }

      .x-window-header {
        width: 100% !important;
        background: _color("secondary") !important;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-content: center;

        .x-window-header-text {
          display: inline !important;
          width: 100% !important;
          background: unset !important;
          line-height: 100px !important;
          text-align: center;
        }
      }
    }


    .x-window-bwrap {
      z-index: 100;
      width: 80% !important;
      height: 80% !important;

      @include _button(".button-cancel", "ACTIONBAR---SECONDARY", "remove-icons");
      @include _button(".button-workflow-action", "ACTIONBAR---SUGGESTED", "remove-icons");
      @include _button(".button-comment", "FORM", "remove-icons");
      @include _button(".button-start", "ACTIONBAR---SUGGESTED", "remove-icons");
      background: _color("secondary") !important;

      .x-window-mc {
        width: 100% !important;
        display: flex;
        flex-direction: column;
        height: calc(100%) !important;
      }

      .x-window-body {
        width: 100% !important;
        height: calc(100%) !important;

        .workflow-action-dialog {
          height: calc(100%) !important;

          .x-tab-panel {
            width: 100% !important;
            display: flex;
            flex-direction: row;
            height: calc(100%) !important;
            border: none !important;

            .x-tab-panel-header {
              flex: 0 0 200px !important;
              height: calc(100%) !important;
              border: none !important;
              background-color: unset !important;

              .x-tab-strip {
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                border: none !important;
                background-color: unset !important;

                .x-component {
                  flex: 0 0 50px !important;
                }

                li {
                  // Tab entry
                  float: none;
                  margin-left: 0;
                  display: block;

                  &.x-tab-strip-active {
                    background: _color("tertiary", normal);
                  }

                  .x-tab-right {
                    // Button container
                    background: none;
                    padding: 0;
                    margin: 0;

                    .x-tab-left {
                      // ANother button container
                      background: none;
                      padding: 0;

                      .x-tab-strip-inner {
                        // Yet another button container
                        background: none;
                      }
                    }
                  }
                }


              }

              .x-tab-strip .x-tab-strip-inner {
                display: flex;
                flex-direction: row;
                justify-content: flex-end;
                align-content: center;
              }

              ////////// TABS
              .x-tab-strip .x-tab-strip-text {
                // At last the button label !!
                padding: 0 10px 0 0;
                flex: 0 0;
                line-height: 3rem;
                @include text(_size("normal"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
              }

              ////////// TAB OVER
              .x-tab-strip-over .x-tab-strip-text {
                // At last the button label !!
                @include text(_size("normal"), _theme($TAB--COLOR---HOVER, $EDIT-ENGINE) !important, _weight("light"));
              }

              ////////// TAB SELECTED
              .x-tab-strip-active .x-tab-strip-text {
                // At last the button label !!
                @include text(_size("normal"), _theme($TAB--COLOR---SELECTED, $EDIT-ENGINE) !important, _weight("light"));
              }

              ////////// TAB SELECTED & HOVER
              .x-tab-strip-active.x-tab-strip-over .x-tab-strip-text {
                // At last the button label !!
                @include text(_size("normal"), _theme($TAB--COLOR---SELECTED-HOVER, $EDIT-ENGINE) !important, _weight("light"));
              }
            }

            .x-tab-panel-body {
              height: calc(100%) !important;
              border: none !important;
              width: 100% !important;

              .workflow-dialog-action-tab.x-border-layout-ct {
                height: calc(100%) !important;
                width: 100% !important;
                display: flex;
                flex-direction: column;
                position: relative !important;

                .x-border-panel:first-child {
                  flex: 0 0 3rem !important;
                  position: relative !important;
                  top: unset !important;
                  left: unset !important;

                  .x-component {
                    line-height: 3rem !important;
                  }

                  td {
                    line-height: 3rem !important;
                    vertical-align: baseline !important;

                    .x-component {
                      @include text(_size("medium"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                      color: _theme($TAB--COLOR, $EDIT-ENGINE) !important;
                    }

                    img {
                      width: 16px !important;
                      height: 100%;
                      object-fit: contain;
                    }
                  }
                }

                .x-border-panel:last-child {
                  flex: 1 1 !important;
                  position: relative !important;
                  width: 100% !important;
                  height: 100% !important;
                  top: unset !important;
                  left: unset !important;

                  .x-panel-bwrap {
                    width: 100% !important;
                    height: 100% !important;

                    fieldset {
                      border: none !important;

                      .x-form-text {
                        @include text(_size("normal"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                        line-height: 2rem !important;
                        background: _color("secondary", d) !important;
                      }

                      .x-form-text:hover {
                        background: _color("secondary") !important;
                      }

                      .x-form-text:focus {
                        background: _color("secondary") !important;
                      }
                    }
                  }
                }
              }

              .workflow-dialog-comments-tab.x-border-layout-ct {
                height: calc(100%) !important;
                width: 100% !important;
                display: flex;
                flex-direction: column-reverse;
                position: relative !important;

                .x-border-panel:first-child {
                  flex: 5 1 2rem !important;
                  position: relative !important;
                  top: unset !important;
                  left: unset !important;
                  margin-top: 10px;
                  table {
                    width: 100% !important;

                    .x-component {
                      width: 100% !important;
                      @include text(_size("normal"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                      line-height: 2rem !important;
                      height: 2rem !important;
                    }

                    tr {
                      display: flex !important;
                      flex-direction: row;
                      width: 100% !important;
                      @include text(_size("normal"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                      line-height: 2rem !important;
                      height: 2rem !important;

                      td {
                        flex: 0 0 50% !important;
                        padding: 0 !important;

                        tbody {
                          display: flex !important;
                          flex-direction: row-reverse;
                          width: 100% !important;
                          @include text(_size("medium"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                          line-height: 2rem !important;
                          height: 2rem !important;

                          tr {
                            flex-grow: 1 !important;

                            td {
                              padding: 0 !important;
                              flex: 0 0 100% !important;
                            }
                          }
                        }
                      }
                    }
                  }

                }

                .x-border-panel:last-child {
                  flex: 1 1 !important;
                  position: relative !important;
                  width: 100% !important;
                  height: 100% !important;
                  top: unset !important;
                  left: unset !important;

                  .x-panel-bwrap {
                    width: 100% !important;
                    height: 100% !important;

                    form {
                      display: flex !important;
                      flex-direction: column !important;
                      justify-content: space-between;
                      height: 11rem !important;
                      align-content: flex-end;
                      align-items: flex-end;

                      .x-form-item {
                        flex: 0 0 8rem !important;
                        width: 100% !important;
                      }

                      .x-form-item-label {
                        @include text(_size("medium"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                        line-height: 2rem !important;
                        height: 2rem !important;
                      }

                      .x-form-textarea {
                        @include text(_size("normal"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                        line-height: 1rem !important;
                        height: 6rem !important;
                        background: _color("secondary", d) !important;
                      }

                      .x-form-textarea:hover {
                        background: _color("secondary") !important;
                      }

                      .x-form-textarea:focus {
                        background: _color("secondary") !important;
                      }
                    }
                  }
                }
              }

              .workflow-dialog-publication-tab {
                height: calc(100%) !important;
                width: 100% !important;
                display: flex;
                flex-direction: column;
                position: relative !important;

                .x-component.x-border {
                  height: 100% !important;
                  width: 100% !important;

                  .x-grid-group {
                    .x-grid-group-hd {
                      border: none;
                      padding: 4px 0;
                      padding-top: 8px;

                      .x-grid-group-div {
                        @include text(_size("medium"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                        padding-left: 11px;
                        background-image: url(../images/icons/icon-toggle-expanded-small-normal.png); /* OPTIMISE URL ::: css/app/workflow/_overrides.scss ::: 1 */
                        background-size: 7px 5px;
                        background-position: left;
                      }
                    }

                    .x-grid-group-body {
                      display: flex !important;
                      flex-direction: column;
                      width: 100% !important;
                      .x-grid3-row {
                        flex: 0 0 100% !important;

                        &.x-grid3-row-over {
                          background: _color("secondary", d) !important
                        }

                        &.x-grid3-row-selected {
                          .x-grid3-cell-inner {
                            color: _color("primary", normal) !important;
                          }
                        }

                        table {
                          width: 100% !important;
                          tr{
                            display: flex;
                            flex-direction: row;
                            width: 100% !important;
                            td {
                              flex-grow: 1;
                            }
                            td:nth-child(4) {
                              flex-grow: 2;
                              width: 100% !important;
                            }
                          }
                        }
                        .x-grid3-col-action {
                          @include _button(".button-compare", "FORM", "remove-icons");
                          @include _button(".button-review", "FORM", "remove-icons");
                        }
                      }
                    }
                  }
                  .x-grid-group-collapsed {
                    .x-grid-group-div {
                      @include text(_size("medium"), _theme($TAB--COLOR, $EDIT-ENGINE), _weight("light"));
                      padding-left: 11px;
                      background-image: url(../images/icons/expand-side-panel@X2.png) !important;
                      background-size: 5px 7px;
                      background-position: left;
                    }


                    .x-grid-group-body {
                      display: none !important;
                    }
                  }
                }
              }
            }
          }
        }
      }

      .x-window-bbar {
        width: 100% !important;
        flex: 0 0 36px !important;
        height: 36px !important;

        .x-toolbar-left-row {
          display: flex;
          flex-direction: row;
        }
      }
    }
  }
}

